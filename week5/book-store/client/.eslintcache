[{"/Users/minhdh/CoderSchool/FTW/demo/cheetah/week5/book-store/client/src/index.js":"1","/Users/minhdh/CoderSchool/FTW/demo/cheetah/week5/book-store/client/src/App.js":"2","/Users/minhdh/CoderSchool/FTW/demo/cheetah/week5/book-store/client/src/components/PublicNavbar.js":"3","/Users/minhdh/CoderSchool/FTW/demo/cheetah/week5/book-store/client/src/pages/HomePage.js":"4","/Users/minhdh/CoderSchool/FTW/demo/cheetah/week5/book-store/client/src/pages/BookDetailPage.js":"5","/Users/minhdh/CoderSchool/FTW/demo/cheetah/week5/book-store/client/src/pages/NotFoundPage.js":"6","/Users/minhdh/CoderSchool/FTW/demo/cheetah/week5/book-store/client/src/pages/ReadingPage.js":"7","/Users/minhdh/CoderSchool/FTW/demo/cheetah/week5/book-store/client/src/components/SearchForm.js":"8","/Users/minhdh/CoderSchool/FTW/demo/cheetah/week5/book-store/client/src/components/PaginationBar.js":"9"},{"size":146,"mtime":1606794628177,"results":"10","hashOfConfig":"11"},{"size":781,"mtime":1606877753398,"results":"12","hashOfConfig":"11"},{"size":803,"mtime":1606796987956,"results":"13","hashOfConfig":"11"},{"size":3173,"mtime":1606881648827,"results":"14","hashOfConfig":"11"},{"size":2816,"mtime":1606881559668,"results":"15","hashOfConfig":"11"},{"size":157,"mtime":1606796092591,"results":"16","hashOfConfig":"11"},{"size":2296,"mtime":1606881587656,"results":"17","hashOfConfig":"11"},{"size":805,"mtime":1606806668994,"results":"18","hashOfConfig":"11"},{"size":1647,"mtime":1606878911983,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"kue432",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"22"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"/Users/minhdh/CoderSchool/FTW/demo/cheetah/week5/book-store/client/src/index.js",[],["40","41"],"/Users/minhdh/CoderSchool/FTW/demo/cheetah/week5/book-store/client/src/App.js",[],"/Users/minhdh/CoderSchool/FTW/demo/cheetah/week5/book-store/client/src/components/PublicNavbar.js",[],"/Users/minhdh/CoderSchool/FTW/demo/cheetah/week5/book-store/client/src/pages/HomePage.js",[],"/Users/minhdh/CoderSchool/FTW/demo/cheetah/week5/book-store/client/src/pages/BookDetailPage.js",["42"],"import React, { useState, useEffect } from \"react\";\nimport { Alert, Button, Col, Container, Row } from \"react-bootstrap\";\nimport { useParams } from \"react-router-dom\";\n\nconst BACKEND_API = process.env.REACT_APP_BACKEND_API;\n\nconst BookDetailPage = () => {\n  const [loading, setLoading] = useState(false);\n  const [book, setBook] = useState(null);\n  const [addingBook, setAddingBook] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const params = useParams();\n  console.log(params.id);\n\n  const addToReadingList = (book) => {\n    setAddingBook(true);\n  };\n\n  useEffect(() => {\n    const postData = async () => {\n      if (!addingBook) return;\n      setLoading(true);\n      try {\n        let url = `${BACKEND_API}/favorites`;\n        const res = await fetch(url, {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify(book),\n        });\n        if (res.ok) {\n          setErrorMessage(\"\");\n        } else {\n          const error = await res.text();\n          setErrorMessage(error.split(\"/n\")[0]);\n        }\n      } catch (error) {\n        setErrorMessage(error.message);\n      }\n      setLoading(false);\n    };\n    postData();\n  }, [addingBook, book]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      try {\n        let url = `${BACKEND_API}/books/${params.id}`;\n        const res = await fetch(url);\n        if (res.ok) {\n          const data = await res.json();\n          setBook(data);\n          setErrorMessage(\"\");\n        } else {\n          setErrorMessage(\"Something doesn't work on the server side\");\n        }\n      } catch (error) {\n        setErrorMessage(error.message);\n      }\n      setLoading(false);\n    };\n    fetchData();\n  }, [params]);\n  return (\n    <Container>\n      {errorMessage && <Alert variant=\"danger\">{errorMessage}</Alert>}\n\n      <Row className=\"border border-info mt-5\">\n        <Col md={3}>\n          {book && (\n            <img\n              className=\"w-100\"\n              src={`${BACKEND_API}/${book.imageLink}`}\n              alt=\"\"\n            />\n          )}\n        </Col>\n        <Col md={9}>\n          <h2>{book?.title}</h2>\n          <div>\n            <strong>Author:</strong> {book?.author}\n          </div>\n          <div>\n            <strong>Year:</strong> {book?.year}\n          </div>\n          <div>\n            <strong>Country:</strong> {book?.country}\n          </div>\n          <div>\n            <strong>Pages:</strong> {book?.pages}\n          </div>\n          <div>\n            <strong>Language:</strong> {book?.language}\n          </div>\n          <Button onClick={() => addToReadingList(book)}>\n            Add to Reading List\n          </Button>\n        </Col>\n      </Row>\n    </Container>\n  );\n};\n\nexport default BookDetailPage;\n","/Users/minhdh/CoderSchool/FTW/demo/cheetah/week5/book-store/client/src/pages/NotFoundPage.js",[],"/Users/minhdh/CoderSchool/FTW/demo/cheetah/week5/book-store/client/src/pages/ReadingPage.js",[],"/Users/minhdh/CoderSchool/FTW/demo/cheetah/week5/book-store/client/src/components/SearchForm.js",[],"/Users/minhdh/CoderSchool/FTW/demo/cheetah/week5/book-store/client/src/components/PaginationBar.js",[],{"ruleId":"43","replacedBy":"44"},{"ruleId":"45","replacedBy":"46"},{"ruleId":"47","severity":1,"message":"48","line":8,"column":10,"nodeType":"49","messageId":"50","endLine":8,"endColumn":17},"no-native-reassign",["51"],"no-negated-in-lhs",["52"],"no-unused-vars","'loading' is assigned a value but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]